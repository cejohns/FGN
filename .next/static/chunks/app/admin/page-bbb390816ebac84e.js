(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{6731:function(e,t,s){Promise.resolve().then(s.bind(s,9404))},9404:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return X}});var a=s(7437),l=s(2265),r=s(3053);let n="https://dyfzxamsobywypoyocwz.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5Znp4YW1zb2J5d3lwb3lvY3d6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwODg4MTYsImV4cCI6MjA3NTY2NDgxNn0.ax_tgvpWH0GRfSXTNcqnX5gVXnfiGjH8AweuOuVbrvw";if(!n||!i)throw Error("Missing Supabase environment variables");(0,r.eI)(n,i);var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,t)=>{let s=(0,l.forwardRef)((s,a)=>{let{color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:x="",children:m,...u}=s;return(0,l.createElement)("svg",{ref:a,...o,width:n,height:n,stroke:r,strokeWidth:c?24*Number(i)/Number(n):i,className:["lucide","lucide-".concat(d(e)),x].join(" "),...u},[...t.map(e=>{let[t,s]=e;return(0,l.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s},x=c("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),m=c("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),u=c("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),h=c("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),g=c("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),p=c("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),b=c("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f=c("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),j=c("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),y=c("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),v=c("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),w=c("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),N=c("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),k=c("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),_=c("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),C=c("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),S=c("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),A=c("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),E=c("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);var I=s(842);function G(e){let{onNavigate:t}=e,[s,r]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[o,d]=(0,l.useState)(""),{signIn:c,loading:x}=(0,I.a)(),m=async e=>{e.preventDefault(),d("");let{error:t}=await c(s,n);t&&(d(t.message||"Invalid email or password. Please try again."),i(""))};return(0,a.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-slate-950 rounded-xl shadow-lg shadow-cyan-500/10 border border-cyan-500/20 p-8 w-full max-w-md",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-cyan-600 to-blue-600 p-4 rounded-full",children:(0,a.jsx)(S,{className:"w-8 h-8 text-white"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Admin Access"}),(0,a.jsx)("p",{className:"text-gray-400 text-center mb-6",children:"Sign in with your admin credentials"}),(0,a.jsxs)("form",{onSubmit:m,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,a.jsx)("input",{type:"email",id:"email",value:s,onChange:e=>r(e.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 text-white rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all",placeholder:"admin@example.com",disabled:x,autoFocus:!0,required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 text-white rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all",placeholder:"Enter your password",disabled:x,required:!0})]}),o&&(0,a.jsxs)("div",{className:"mb-4 bg-red-950/50 border border-red-500/50 rounded-lg p-3 flex items-start space-x-2",children:[(0,a.jsx)(A,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{className:"text-sm text-red-400",children:o})]}),(0,a.jsx)("button",{type:"submit",disabled:x||!s||!n,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg shadow-cyan-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Signing in...":"Sign In"})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-slate-900 rounded-lg border border-slate-700",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-400 mb-3",children:[(0,a.jsx)("strong",{children:"Secure Authentication:"})," This admin panel uses Supabase Auth with encrypted password storage and JWT tokens."]}),t&&(0,a.jsxs)("button",{onClick:()=>t("test"),className:"text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1 transition-colors",children:[(0,a.jsx)(E,{className:"w-3 h-3"}),"Connection Problems? Run Diagnostics"]})]})]})})}let T=c("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),R=c("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function L(e){let{supabase:t,onSuccess:s,onError:r}=e,[n,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)([]),[m,u]=(0,l.useState)({title:"",slug:"",excerpt:"",content:"",featured_image:"",category:"General",author:"Admin",is_featured:!1}),h=async()=>{try{let{data:e,error:s}=await t.from("news_articles").select("*").order("created_at",{ascending:!1}).limit(10);if(s)throw s;x(e||[])}catch(e){console.error("Error loading news:",e)}};(0,l.useEffect)(()=>{h()},[]);let g=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),p=async()=>{d(!0);try{if(!m.title||!m.slug||!m.excerpt||!m.content)throw Error("Please fill in all required fields");let{error:e}=await t.from("news_articles").insert([{...m,featured_image:m.featured_image||"https://images.unsplash.com/photo-1511512578047-dfb367046420"}]);if(e)throw e;s("News article created successfully!"),u({title:"",slug:"",excerpt:"",content:"",featured_image:"",category:"General",author:"Admin",is_featured:!1}),i(!1),await h()}catch(e){r(e.message)}finally{d(!1)}},b=async e=>{if(confirm("Are you sure?"))try{let{error:a}=await t.from("news_articles").delete().eq("id",e);if(a)throw a;s("News article deleted!"),await h()}catch(e){r(e.message)}};return(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-900/20 to-cyan-900/20 border border-blue-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white mb-1",children:"News Articles"}),(0,a.jsx)("p",{className:"text-slate-300 text-sm",children:"Create and manage news articles"})]}),(0,a.jsxs)("button",{onClick:()=>i(!n),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:[(0,a.jsx)(T,{className:"w-5 h-5"}),"New Article"]})]}),n&&(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 mb-4 space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Create News Article"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Title ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.title,onChange:e=>u({...m,title:e.target.value,slug:g(e.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Enter article title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Slug ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.slug,onChange:e=>u({...m,slug:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"url-friendly-slug"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Excerpt ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("textarea",{value:m.excerpt,onChange:e=>u({...m,excerpt:e.target.value}),rows:2,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Brief summary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Content ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("textarea",{value:m.content,onChange:e=>u({...m,content:e.target.value}),rows:8,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Full article content"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Featured Image URL"}),(0,a.jsx)("input",{type:"text",value:m.featured_image,onChange:e=>u({...m,featured_image:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"https://example.com/image.jpg"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Category"}),(0,a.jsxs)("select",{value:m.category,onChange:e=>u({...m,category:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"General",children:"General"}),(0,a.jsx)("option",{value:"Breaking",children:"Breaking"}),(0,a.jsx)("option",{value:"Industry",children:"Industry"}),(0,a.jsx)("option",{value:"Events",children:"Events"}),(0,a.jsx)("option",{value:"Rumors",children:"Rumors"})]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:m.is_featured,onChange:e=>u({...m,is_featured:e.target.checked}),className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-slate-300 text-sm",children:"Feature on homepage"})]})})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{onClick:p,disabled:o,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors disabled:opacity-50",children:o?"Creating...":"Create Article"}),(0,a.jsx)("button",{onClick:()=>i(!1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white font-bold rounded-lg transition-colors",children:"Cancel"})]})]}),c.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Recent Articles (",c.length,")"]}),c.map(e=>(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-white font-semibold",children:e.title}),(0,a.jsxs)("p",{className:"text-slate-400 text-sm",children:[e.category," • ",new Date(e.published_at).toLocaleDateString(),e.is_featured&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-blue-600 text-white px-2 py-0.5 rounded",children:"Featured"})]})]}),(0,a.jsx)("button",{onClick:()=>b(e.id),className:"p-2 hover:bg-red-600 rounded-lg transition-colors",children:(0,a.jsx)(R,{className:"w-5 h-5 text-red-400"})})]},e.id))]})]})}function M(e){let{supabase:t,onSuccess:s,onError:r}=e,[n,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)([]),[m,u]=(0,l.useState)({game_title:"",slug:"",game_cover:"",platform:"",genre:"",developer:"",publisher:"",release_date:"",rating:"",excerpt:"",content:"",reviewer:"Admin",is_featured:!1}),h=async()=>{try{let{data:e,error:s}=await t.from("game_reviews").select("*").order("created_at",{ascending:!1}).limit(10);if(s)throw s;x(e||[])}catch(e){console.error("Error loading reviews:",e)}};(0,l.useEffect)(()=>{h()},[]);let g=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),p=async()=>{d(!0);try{if(!m.game_title||!m.slug||!m.platform||!m.genre||!m.rating||!m.excerpt||!m.content)throw Error("Please fill in all required fields");let e=parseFloat(m.rating);if(isNaN(e)||e<0||e>10)throw Error("Rating must be a number between 0 and 10");let{error:a}=await t.from("game_reviews").insert([{...m,rating:e,game_cover:m.game_cover||"https://images.unsplash.com/photo-1550745165-9bc0b252726f",release_date:m.release_date||null}]);if(a)throw a;s("Game review created successfully!"),u({game_title:"",slug:"",game_cover:"",platform:"",genre:"",developer:"",publisher:"",release_date:"",rating:"",excerpt:"",content:"",reviewer:"Admin",is_featured:!1}),i(!1),await h()}catch(e){r(e.message)}finally{d(!1)}},b=async e=>{if(confirm("Are you sure?"))try{let{error:a}=await t.from("game_reviews").delete().eq("id",e);if(a)throw a;s("Review deleted!"),await h()}catch(e){r(e.message)}};return(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-900/20 to-pink-900/20 border border-purple-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white mb-1",children:"Game Reviews"}),(0,a.jsx)("p",{className:"text-slate-300 text-sm",children:"Create and manage game reviews"})]}),(0,a.jsxs)("button",{onClick:()=>i(!n),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:[(0,a.jsx)(T,{className:"w-5 h-5"}),"New Review"]})]}),n&&(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 mb-4 space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Create Game Review"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Game Title ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.game_title,onChange:e=>u({...m,game_title:e.target.value,slug:g(e.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Enter game title"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Platform ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.platform,onChange:e=>u({...m,platform:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"PC, PS5, Xbox Series X"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Genre ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.genre,onChange:e=>u({...m,genre:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Action, RPG, Strategy"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Developer"}),(0,a.jsx)("input",{type:"text",value:m.developer,onChange:e=>u({...m,developer:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Developer name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Publisher"}),(0,a.jsx)("input",{type:"text",value:m.publisher,onChange:e=>u({...m,publisher:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Publisher name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Rating (0-10) ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.rating,onChange:e=>u({...m,rating:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"8.5"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Game Cover URL"}),(0,a.jsx)("input",{type:"text",value:m.game_cover,onChange:e=>u({...m,game_cover:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"https://example.com/cover.jpg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Excerpt ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("textarea",{value:m.excerpt,onChange:e=>u({...m,excerpt:e.target.value}),rows:2,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Brief review summary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Content ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("textarea",{value:m.content,onChange:e=>u({...m,content:e.target.value}),rows:8,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",placeholder:"Full review content"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"review_featured",checked:m.is_featured,onChange:e=>u({...m,is_featured:e.target.checked}),className:"w-4 h-4"}),(0,a.jsx)("label",{htmlFor:"review_featured",className:"text-slate-300 text-sm",children:"Feature on homepage"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{onClick:p,disabled:o,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-colors disabled:opacity-50",children:o?"Creating...":"Create Review"}),(0,a.jsx)("button",{onClick:()=>i(!1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white font-bold rounded-lg transition-colors",children:"Cancel"})]})]}),c.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Recent Reviews (",c.length,")"]}),c.map(e=>(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-white font-semibold",children:e.game_title}),(0,a.jsxs)("p",{className:"text-slate-400 text-sm",children:[e.platform," • Rating: ",e.rating,"/10",e.is_featured&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-purple-600 text-white px-2 py-0.5 rounded",children:"Featured"})]})]}),(0,a.jsx)("button",{onClick:()=>b(e.id),className:"p-2 hover:bg-red-600 rounded-lg transition-colors",children:(0,a.jsx)(R,{className:"w-5 h-5 text-red-400"})})]},e.id))]})]})}function P(e){let{supabase:t,onSuccess:s,onError:r}=e,[n,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)([]),[m,u]=(0,l.useState)({title:"",slug:"",excerpt:"",content:"",featured_image:"",category:"Gaming Tips",difficulty:"Beginner",author:"Admin",estimated_time:"5 min",is_featured:!1}),h=async()=>{try{let{data:e,error:s}=await t.from("guides").select("*").order("created_at",{ascending:!1}).limit(10);if(s)throw s;x(e||[])}catch(e){console.error("Error loading guides:",e)}};(0,l.useEffect)(()=>{h()},[]);let g=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),p=async()=>{d(!0);try{if(!m.title||!m.slug||!m.excerpt||!m.content)throw Error("Please fill in all required fields");let{error:e}=await t.from("guides").insert([{...m,featured_image:m.featured_image||"https://images.unsplash.com/photo-1511512578047-dfb367046420"}]);if(e)throw e;s("Guide created successfully!"),u({title:"",slug:"",excerpt:"",content:"",featured_image:"",category:"Gaming Tips",difficulty:"Beginner",author:"Admin",estimated_time:"5 min",is_featured:!1}),i(!1),await h()}catch(e){r(e.message)}finally{d(!1)}},b=async e=>{if(confirm("Are you sure?"))try{let{error:a}=await t.from("guides").delete().eq("id",e);if(a)throw a;s("Guide deleted!"),await h()}catch(e){r(e.message)}};return(0,a.jsxs)("div",{className:"bg-gradient-to-r from-amber-900/20 to-orange-900/20 border border-amber-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white mb-1",children:"Guides & Tutorials"}),(0,a.jsx)("p",{className:"text-slate-300 text-sm",children:"Create and manage gaming guides"})]}),(0,a.jsxs)("button",{onClick:()=>i(!n),className:"flex items-center gap-2 bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:[(0,a.jsx)(T,{className:"w-5 h-5"}),"New Guide"]})]}),n&&(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 mb-4 space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Create Guide"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Title ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.title,onChange:e=>u({...m,title:e.target.value,slug:g(e.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-amber-500",placeholder:"Enter guide title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Slug ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.slug,onChange:e=>u({...m,slug:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-amber-500",placeholder:"url-friendly-slug"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Excerpt ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("textarea",{value:m.excerpt,onChange:e=>u({...m,excerpt:e.target.value}),rows:2,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-amber-500",placeholder:"Brief summary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Content ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("textarea",{value:m.content,onChange:e=>u({...m,content:e.target.value}),rows:8,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-amber-500",placeholder:"Full guide content"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Featured Image URL"}),(0,a.jsx)("input",{type:"text",value:m.featured_image,onChange:e=>u({...m,featured_image:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-amber-500",placeholder:"https://example.com/image.jpg"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Category"}),(0,a.jsxs)("select",{value:m.category,onChange:e=>u({...m,category:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-amber-500",children:[(0,a.jsx)("option",{value:"Gaming Tips",children:"Gaming Tips"}),(0,a.jsx)("option",{value:"Game Development",children:"Game Development"}),(0,a.jsx)("option",{value:"Technology",children:"Technology"}),(0,a.jsx)("option",{value:"Hardware",children:"Hardware"}),(0,a.jsx)("option",{value:"Software",children:"Software"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Difficulty"}),(0,a.jsxs)("select",{value:m.difficulty,onChange:e=>u({...m,difficulty:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-amber-500",children:[(0,a.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,a.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,a.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Est. Time"}),(0,a.jsx)("input",{type:"text",value:m.estimated_time,onChange:e=>u({...m,estimated_time:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-amber-500",placeholder:"5 min"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"guide_featured",checked:m.is_featured,onChange:e=>u({...m,is_featured:e.target.checked}),className:"w-4 h-4"}),(0,a.jsx)("label",{htmlFor:"guide_featured",className:"text-slate-300 text-sm",children:"Feature on homepage"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{onClick:p,disabled:o,className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-lg transition-colors disabled:opacity-50",children:o?"Creating...":"Create Guide"}),(0,a.jsx)("button",{onClick:()=>i(!1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white font-bold rounded-lg transition-colors",children:"Cancel"})]})]}),c.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Recent Guides (",c.length,")"]}),c.map(e=>(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-white font-semibold",children:e.title}),(0,a.jsxs)("p",{className:"text-slate-400 text-sm",children:[e.category," • ",e.difficulty," • ",e.estimated_time,e.is_featured&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-amber-600 text-white px-2 py-0.5 rounded",children:"Featured"})]})]}),(0,a.jsx)("button",{onClick:()=>b(e.id),className:"p-2 hover:bg-red-600 rounded-lg transition-colors",children:(0,a.jsx)(R,{className:"w-5 h-5 text-red-400"})})]},e.id))]})]})}function V(e){let{supabase:t,onSuccess:s,onError:r}=e,[n,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)([]),[m,u]=(0,l.useState)({title:"",slug:"",description:"",video_url:"",thumbnail:"",category:"General",duration:"",creator:"Admin",is_featured:!1}),h=async()=>{try{let{data:e,error:s}=await t.from("videos").select("*").order("created_at",{ascending:!1}).limit(10);if(s)throw s;x(e||[])}catch(e){console.error("Error loading videos:",e)}};(0,l.useEffect)(()=>{h()},[]);let g=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),p=async()=>{d(!0);try{if(!m.title||!m.slug||!m.description||!m.video_url)throw Error("Please fill in all required fields");let{error:e}=await t.from("videos").insert([{...m,thumbnail:m.thumbnail||"https://images.unsplash.com/photo-1511512578047-dfb367046420"}]);if(e)throw e;s("Video created successfully!"),u({title:"",slug:"",description:"",video_url:"",thumbnail:"",category:"General",duration:"",creator:"Admin",is_featured:!1}),i(!1),await h()}catch(e){r(e.message)}finally{d(!1)}},b=async e=>{if(confirm("Are you sure?"))try{let{error:a}=await t.from("videos").delete().eq("id",e);if(a)throw a;s("Video deleted!"),await h()}catch(e){r(e.message)}};return(0,a.jsxs)("div",{className:"bg-gradient-to-r from-rose-900/20 to-red-900/20 border border-rose-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white mb-1",children:"Videos"}),(0,a.jsx)("p",{className:"text-slate-300 text-sm",children:"Create and manage video content"})]}),(0,a.jsxs)("button",{onClick:()=>i(!n),className:"flex items-center gap-2 bg-rose-600 hover:bg-rose-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:[(0,a.jsx)(T,{className:"w-5 h-5"}),"New Video"]})]}),n&&(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 mb-4 space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Create Video"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Title ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.title,onChange:e=>u({...m,title:e.target.value,slug:g(e.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-rose-500",placeholder:"Enter video title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Video URL ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.video_url,onChange:e=>u({...m,video_url:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-rose-500",placeholder:"YouTube URL or embed code"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Description ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("textarea",{value:m.description,onChange:e=>u({...m,description:e.target.value}),rows:3,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-rose-500",placeholder:"Video description"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Thumbnail URL"}),(0,a.jsx)("input",{type:"text",value:m.thumbnail,onChange:e=>u({...m,thumbnail:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-rose-500",placeholder:"https://example.com/thumbnail.jpg"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Category"}),(0,a.jsxs)("select",{value:m.category,onChange:e=>u({...m,category:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-rose-500",children:[(0,a.jsx)("option",{value:"General",children:"General"}),(0,a.jsx)("option",{value:"Gameplay",children:"Gameplay"}),(0,a.jsx)("option",{value:"Review",children:"Review"}),(0,a.jsx)("option",{value:"News",children:"News"}),(0,a.jsx)("option",{value:"Tutorial",children:"Tutorial"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Duration"}),(0,a.jsx)("input",{type:"text",value:m.duration,onChange:e=>u({...m,duration:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-rose-500",placeholder:"10:45"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"video_featured",checked:m.is_featured,onChange:e=>u({...m,is_featured:e.target.checked}),className:"w-4 h-4"}),(0,a.jsx)("label",{htmlFor:"video_featured",className:"text-slate-300 text-sm",children:"Feature on homepage"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{onClick:p,disabled:o,className:"flex-1 bg-rose-600 hover:bg-rose-700 text-white font-bold py-3 px-6 rounded-lg transition-colors disabled:opacity-50",children:o?"Creating...":"Create Video"}),(0,a.jsx)("button",{onClick:()=>i(!1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white font-bold rounded-lg transition-colors",children:"Cancel"})]})]}),c.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Recent Videos (",c.length,")"]}),c.map(e=>(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-white font-semibold",children:e.title}),(0,a.jsxs)("p",{className:"text-slate-400 text-sm",children:[e.category," ",e.duration&&"• ".concat(e.duration),e.is_featured&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-rose-600 text-white px-2 py-0.5 rounded",children:"Featured"})]})]}),(0,a.jsx)("button",{onClick:()=>b(e.id),className:"p-2 hover:bg-red-600 rounded-lg transition-colors",children:(0,a.jsx)(R,{className:"w-5 h-5 text-red-400"})})]},e.id))]})]})}function D(e){let{supabase:t,onSuccess:s,onError:r}=e,[n,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)([]),[m,u]=(0,l.useState)({title:"",description:"",image_url:"",thumbnail_url:"",category:"General",game_title:"",photographer:"Admin",is_featured:!1}),h=async()=>{try{let{data:e,error:s}=await t.from("gallery_images").select("*").order("created_at",{ascending:!1}).limit(10);if(s)throw s;x(e||[])}catch(e){console.error("Error loading gallery:",e)}};(0,l.useEffect)(()=>{h()},[]);let g=async()=>{d(!0);try{if(!m.title||!m.image_url)throw Error("Please fill in all required fields");let{error:e}=await t.from("gallery_images").insert([{...m,thumbnail_url:m.thumbnail_url||m.image_url}]);if(e)throw e;s("Gallery image created successfully!"),u({title:"",description:"",image_url:"",thumbnail_url:"",category:"General",game_title:"",photographer:"Admin",is_featured:!1}),i(!1),await h()}catch(e){r(e.message)}finally{d(!1)}},p=async e=>{if(confirm("Are you sure?"))try{let{error:a}=await t.from("gallery_images").delete().eq("id",e);if(a)throw a;s("Gallery image deleted!"),await h()}catch(e){r(e.message)}};return(0,a.jsxs)("div",{className:"bg-gradient-to-r from-teal-900/20 to-cyan-900/20 border border-teal-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white mb-1",children:"Gallery Images"}),(0,a.jsx)("p",{className:"text-slate-300 text-sm",children:"Create and manage gallery images"})]}),(0,a.jsxs)("button",{onClick:()=>i(!n),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:[(0,a.jsx)(T,{className:"w-5 h-5"}),"New Image"]})]}),n&&(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 mb-4 space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Add Gallery Image"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Title ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.title,onChange:e=>u({...m,title:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-teal-500",placeholder:"Enter image title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Image URL ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:m.image_url,onChange:e=>u({...m,image_url:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-teal-500",placeholder:"https://example.com/image.jpg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Thumbnail URL"}),(0,a.jsx)("input",{type:"text",value:m.thumbnail_url,onChange:e=>u({...m,thumbnail_url:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-teal-500",placeholder:"Leave empty to use main image"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:m.description,onChange:e=>u({...m,description:e.target.value}),rows:2,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-teal-500",placeholder:"Image description"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Category"}),(0,a.jsxs)("select",{value:m.category,onChange:e=>u({...m,category:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-teal-500",children:[(0,a.jsx)("option",{value:"General",children:"General"}),(0,a.jsx)("option",{value:"Screenshots",children:"Screenshots"}),(0,a.jsx)("option",{value:"Concept Art",children:"Concept Art"}),(0,a.jsx)("option",{value:"Cosplay",children:"Cosplay"}),(0,a.jsx)("option",{value:"Fan Art",children:"Fan Art"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Game Title"}),(0,a.jsx)("input",{type:"text",value:m.game_title,onChange:e=>u({...m,game_title:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-teal-500",placeholder:"Related game (optional)"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"gallery_featured",checked:m.is_featured,onChange:e=>u({...m,is_featured:e.target.checked}),className:"w-4 h-4"}),(0,a.jsx)("label",{htmlFor:"gallery_featured",className:"text-slate-300 text-sm",children:"Feature on homepage"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{onClick:g,disabled:o,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-6 rounded-lg transition-colors disabled:opacity-50",children:o?"Creating...":"Add Image"}),(0,a.jsx)("button",{onClick:()=>i(!1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white font-bold rounded-lg transition-colors",children:"Cancel"})]})]}),c.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Recent Images (",c.length,")"]}),c.map(e=>(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-white font-semibold",children:e.title}),(0,a.jsxs)("p",{className:"text-slate-400 text-sm",children:[e.category," ",e.game_title&&"• ".concat(e.game_title),e.is_featured&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-teal-600 text-white px-2 py-0.5 rounded",children:"Featured"})]})]}),(0,a.jsx)("button",{onClick:()=>p(e.id),className:"p-2 hover:bg-red-600 rounded-lg transition-colors",children:(0,a.jsx)(R,{className:"w-5 h-5 text-red-400"})})]},e.id))]})]})}let U=c("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),z=c("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),F=c("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),B={create:"bg-green-500/10 text-green-400 border-green-500/30",update:"bg-blue-500/10 text-blue-400 border-blue-500/30",delete:"bg-red-500/10 text-red-400 border-red-500/30",publish:"bg-purple-500/10 text-purple-400 border-purple-500/30",unpublish:"bg-orange-500/10 text-orange-400 border-orange-500/30",approve:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",reject:"bg-red-500/10 text-red-400 border-red-500/30",sync:"bg-yellow-500/10 text-yellow-400 border-yellow-500/30",ai_generate:"bg-pink-500/10 text-pink-400 border-pink-500/30"};function q(e){let{supabase:t}=e,[s,r]=(0,l.useState)([]),[n,i]=(0,l.useState)(!0),[o,d]=(0,l.useState)("all"),[c,u]=(0,l.useState)("all"),[h,p]=(0,l.useState)("7days"),[b,f]=(0,l.useState)(1),[j,v]=(0,l.useState)(0);(0,l.useEffect)(()=>{w()},[o,c,h,b]);let w=async()=>{i(!0);try{let e=t.from("admin_audit_log").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((b-1)*50,50*b-1);if("all"!==o&&(e=e.eq("action",o)),"all"!==c&&(e=e.eq("entity",c)),"all"!==h){let t;let s=new Date;switch(h){case"24hours":t=new Date(s.getTime()-864e5);break;case"7days":t=new Date(s.getTime()-6048e5);break;case"30days":t=new Date(s.getTime()-2592e6);break;default:t=new Date(0)}e=e.gte("created_at",t.toISOString())}let{data:s,error:a,count:l}=await e;if(a)throw a;r(s||[]),v(l||0)}catch(e){console.error("Error fetching audit logs:",e)}finally{i(!1)}},N=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),_=Math.ceil(j/50);return Array.from(new Set(s.map(e=>e.action))),Array.from(new Set(s.map(e=>e.entity))),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-cyan-600 to-blue-600 p-3 rounded-lg",children:(0,a.jsx)(x,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Admin Audit Log"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Track all administrative actions and changes"})]})]}),(0,a.jsxs)("div",{className:"bg-slate-900 rounded-lg border border-slate-700 p-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[(0,a.jsx)(k,{className:"w-4 h-4 inline mr-1"}),"Action Type"]}),(0,a.jsxs)("select",{value:o,onChange:e=>{d(e.target.value),f(1)},className:"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:[(0,a.jsx)("option",{value:"all",children:"All Actions"}),(0,a.jsx)("option",{value:"create",children:"Create"}),(0,a.jsx)("option",{value:"update",children:"Update"}),(0,a.jsx)("option",{value:"delete",children:"Delete"}),(0,a.jsx)("option",{value:"publish",children:"Publish"}),(0,a.jsx)("option",{value:"unpublish",children:"Unpublish"}),(0,a.jsx)("option",{value:"approve",children:"Approve"}),(0,a.jsx)("option",{value:"reject",children:"Reject"}),(0,a.jsx)("option",{value:"sync",children:"Sync"}),(0,a.jsx)("option",{value:"ai_generate",children:"AI Generate"})]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[(0,a.jsx)(g,{className:"w-4 h-4 inline mr-1"}),"Entity Type"]}),(0,a.jsxs)("select",{value:c,onChange:e=>{u(e.target.value),f(1)},className:"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:[(0,a.jsx)("option",{value:"all",children:"All Entities"}),(0,a.jsx)("option",{value:"blog_posts",children:"Blog Posts"}),(0,a.jsx)("option",{value:"news_articles",children:"News Articles"}),(0,a.jsx)("option",{value:"news_posts",children:"News Posts"}),(0,a.jsx)("option",{value:"guides",children:"Guides"}),(0,a.jsx)("option",{value:"game_releases",children:"Game Releases"}),(0,a.jsx)("option",{value:"reviews",children:"Reviews"}),(0,a.jsx)("option",{value:"videos",children:"Videos"}),(0,a.jsx)("option",{value:"gallery_items",children:"Gallery Items"})]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[(0,a.jsx)(U,{className:"w-4 h-4 inline mr-1"}),"Time Range"]}),(0,a.jsxs)("select",{value:h,onChange:e=>{p(e.target.value),f(1)},className:"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:[(0,a.jsx)("option",{value:"24hours",children:"Last 24 Hours"}),(0,a.jsx)("option",{value:"7days",children:"Last 7 Days"}),(0,a.jsx)("option",{value:"30days",children:"Last 30 Days"}),(0,a.jsx)("option",{value:"all",children:"All Time"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-400",children:[(0,a.jsxs)("span",{children:["Showing ",(b-1)*50+1," - ",Math.min(50*b,j)," of ",j," entries"]}),_>1&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>f(e=>Math.max(1,e-1)),disabled:1===b,className:"p-2 bg-slate-800 hover:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(z,{className:"w-4 h-4"})}),(0,a.jsxs)("span",{className:"text-white",children:["Page ",b," of ",_]}),(0,a.jsx)("button",{onClick:()=>f(e=>Math.min(_,e+1)),disabled:b===_,className:"p-2 bg-slate-800 hover:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(F,{className:"w-4 h-4"})})]})]})]}),n?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-cyan-500 border-t-transparent"})}):0===s.length?(0,a.jsxs)("div",{className:"bg-slate-900 rounded-lg border border-slate-700 p-12 text-center",children:[(0,a.jsx)(x,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Audit Logs Found"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Try adjusting your filters to see more results."})]}):(0,a.jsx)("div",{className:"space-y-3",children:s.map(e=>(0,a.jsx)("div",{className:"bg-slate-900 rounded-lg border border-slate-700 p-4 hover:border-cyan-500/30 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(B[e.action]||"bg-gray-500/10 text-gray-400 border-gray-500/30"),children:e.action}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:e.entity}),e.entity_id&&(0,a.jsxs)("span",{className:"text-gray-500 text-xs font-mono",children:["ID: ",e.entity_id.substring(0,8),"..."]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(m,{className:"w-4 h-4"}),e.actor_email||"Unknown"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(y,{className:"w-4 h-4"}),N(e.created_at)]})]}),e.metadata&&Object.keys(e.metadata).length>0&&(0,a.jsxs)("details",{className:"mt-2",children:[(0,a.jsx)("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-400",children:"View Details"}),(0,a.jsx)("pre",{className:"mt-2 text-xs text-gray-400 bg-slate-950 rounded p-2 overflow-x-auto",children:JSON.stringify(e.metadata,null,2)})]})]}),e.ip_address&&(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["IP: ",e.ip_address]})})]})},e.id))})]})}let O="https://dyfzxamsobywypoyocwz.supabase.co",J="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5Znp4YW1zb2J5d3lwb3lvY3d6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwODg4MTYsImV4cCI6MjA3NTY2NDgxNn0.ax_tgvpWH0GRfSXTNcqnX5gVXnfiGjH8AweuOuVbrvw";function X(){let[e,t]=(0,l.useState)(null),[s,o]=(0,l.useState)(null),[d,c]=(0,l.useState)(!0),[w,N]=(0,l.useState)("dashboard"),[k,_]=(0,l.useState)(null),[C,S]=(0,l.useState)(""),A=(0,r.eI)(n,i);(0,l.useEffect)(()=>{E();let{data:{subscription:e}}=A.auth.onAuthStateChange((e,s)=>{var a;t(null!==(a=null==s?void 0:s.user)&&void 0!==a?a:null),(null==s?void 0:s.user)?I(s.user.id):(o(null),c(!1))});return()=>e.unsubscribe()},[]),(0,l.useEffect)(()=>{e&&s&&"dashboard"===w&&T()},[e,s,w]);let E=async()=>{try{var e;let{data:{session:s}}=await A.auth.getSession();t(null!==(e=null==s?void 0:s.user)&&void 0!==e?e:null),(null==s?void 0:s.user)?await I(s.user.id):c(!1)}catch(e){console.error("Auth check error:",e),c(!1)}},I=async e=>{try{let{data:t,error:s}=await A.from("admin_users").select("*").eq("id",e).eq("is_active",!0).maybeSingle();if(s)throw s;t&&(o(t),await A.from("admin_users").update({last_login_at:new Date().toISOString()}).eq("id",e))}catch(e){console.error("Error loading admin profile:",e)}finally{c(!1)}},T=async()=>{try{let[e,t,s,a,l,r,n]=await Promise.all([A.from("blog_posts").select("id",{count:"exact",head:!0}),A.from("news_posts").select("id",{count:"exact",head:!0}),A.from("game_reviews").select("id",{count:"exact",head:!0}),A.from("guides").select("id",{count:"exact",head:!0}),A.from("gaming_videos").select("id",{count:"exact",head:!0}),A.from("gallery_images").select("id",{count:"exact",head:!0}),A.from("game_releases").select("id",{count:"exact",head:!0})]),i=await A.from("admin_audit_log").select("id",{count:"exact",head:!0}).gte("created_at",new Date(Date.now()-864e5).toISOString());_({totalPosts:e.count||0,totalNews:t.count||0,totalReviews:s.count||0,totalGuides:a.count||0,totalVideos:l.count||0,totalGallery:r.count||0,totalReleases:n.count||0,recentActivity:i.count||0})}catch(e){console.error("Error loading stats:",e)}},R=async()=>{await A.auth.signOut(),t(null),o(null)};return d?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-cyan-500 border-t-transparent mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Loading..."})]})}):e&&s?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[(0,a.jsx)("header",{className:"bg-slate-900/80 backdrop-blur-md border-b border-slate-800 sticky top-0 z-50",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 p-2 rounded-lg",children:(0,a.jsx)(x,{className:"w-7 h-7 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Firestar Gaming Network"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-3 bg-slate-800/50 px-4 py-2 rounded-lg border border-slate-700",children:[(0,a.jsx)(m,{className:"w-4 h-4 text-cyan-400"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:s.full_name}),(0,a.jsx)("p",{className:"text-xs text-slate-400 capitalize",children:s.role.replace("_"," ")})]})]}),(0,a.jsx)("a",{href:"/",className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors text-sm font-medium",children:"View Site"}),(0,a.jsxs)("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm font-medium",children:[(0,a.jsx)(u,{className:"w-4 h-4"}),"Sign Out"]})]})]})})}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("aside",{className:"w-64 bg-slate-900/50 border-r border-slate-800 min-h-[calc(100vh-73px)] sticky top-[73px]",children:(0,a.jsxs)("nav",{className:"p-4 space-y-1",children:[(0,a.jsxs)("button",{onClick:()=>N("dashboard"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat("dashboard"===w?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/20":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(h,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Dashboard"})]}),(0,a.jsxs)("button",{onClick:()=>N("blog"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat("blog"===w?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/20":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(g,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Blog Posts"})]}),(0,a.jsxs)("button",{onClick:()=>N("news"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat("news"===w?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/20":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(p,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"News"})]}),(0,a.jsxs)("button",{onClick:()=>N("reviews"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat("reviews"===w?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/20":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(b,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Reviews"})]}),(0,a.jsxs)("button",{onClick:()=>N("guides"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat("guides"===w?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/20":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(f,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Guides"})]}),(0,a.jsxs)("button",{onClick:()=>N("videos"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat("videos"===w?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/20":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(p,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Videos"})]}),(0,a.jsxs)("button",{onClick:()=>N("gallery"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat("gallery"===w?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/20":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(b,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Gallery"})]}),(0,a.jsx)("div",{className:"border-t border-slate-700 my-2"}),"super_admin"===s.role&&(0,a.jsxs)("button",{onClick:()=>N("admins"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat("admins"===w?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/20":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(j,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Admin Users"})]}),(0,a.jsxs)("button",{onClick:()=>N("audit"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat("audit"===w?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/20":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(y,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Audit Logs"})]}),(0,a.jsxs)("button",{onClick:()=>N("settings"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat("settings"===w?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/20":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(v,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Settings"})]})]})}),(0,a.jsx)("main",{className:"flex-1 p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:["dashboard"===w&&(0,a.jsx)(Y,{stats:k,adminUser:s,supabase:A}),"blog"===w&&(0,a.jsx)(W,{supabase:A}),"news"===w&&(0,a.jsx)(L,{supabase:A,onSuccess:()=>{},onError:()=>{}}),"reviews"===w&&(0,a.jsx)(M,{supabase:A,onSuccess:()=>{},onError:()=>{}}),"guides"===w&&(0,a.jsx)(P,{supabase:A,onSuccess:()=>{},onError:()=>{}}),"videos"===w&&(0,a.jsx)(V,{supabase:A,onSuccess:()=>{},onError:()=>{}}),"gallery"===w&&(0,a.jsx)(D,{supabase:A,onSuccess:()=>{},onError:()=>{}}),"admins"===w&&"super_admin"===s.role&&(0,a.jsx)($,{supabase:A}),"audit"===w&&(0,a.jsx)(q,{supabase:A}),"settings"===w&&(0,a.jsx)(K,{adminUser:s,supabase:A})]})})]})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[(0,a.jsx)("header",{className:"bg-slate-900/50 backdrop-blur-sm border-b border-slate-800",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(x,{className:"w-10 h-10 text-cyan-400"}),(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Admin Portal"})]})})}),(0,a.jsx)("main",{className:"container mx-auto px-4 py-12",children:(0,a.jsx)(G,{})})]})}function Y(e){let{stats:t,adminUser:s,supabase:l}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2",children:["Welcome back, ",s.full_name,"!"]}),(0,a.jsx)("p",{className:"text-slate-400",children:"Here's what's happening with your content today."})]}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(H,{title:"Blog Posts",value:t.totalPosts,icon:(0,a.jsx)(g,{className:"w-6 h-6"}),gradient:"from-cyan-500 to-blue-600"}),(0,a.jsx)(H,{title:"News Articles",value:t.totalNews,icon:(0,a.jsx)(p,{className:"w-6 h-6"}),gradient:"from-emerald-500 to-teal-600"}),(0,a.jsx)(H,{title:"Reviews",value:t.totalReviews,icon:(0,a.jsx)(b,{className:"w-6 h-6"}),gradient:"from-violet-500 to-purple-600"}),(0,a.jsx)(H,{title:"Activity (24h)",value:t.recentActivity,icon:(0,a.jsx)(w,{className:"w-6 h-6"}),gradient:"from-orange-500 to-red-600"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)(H,{title:"Guides",value:t.totalGuides,icon:(0,a.jsx)(f,{className:"w-6 h-6"}),gradient:"from-blue-500 to-cyan-600"}),(0,a.jsx)(H,{title:"Videos",value:t.totalVideos,icon:(0,a.jsx)(p,{className:"w-6 h-6"}),gradient:"from-pink-500 to-rose-600"}),(0,a.jsx)(H,{title:"Gallery Images",value:t.totalGallery,icon:(0,a.jsx)(b,{className:"w-6 h-6"}),gradient:"from-amber-500 to-orange-600"})]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsx)(Z,{title:"Sync Platform News",description:"Import from PlayStation, Xbox, Nintendo",icon:(0,a.jsx)(p,{className:"w-5 h-5"}),onClick:async()=>{await fetch("".concat(O,"/functions/v1/sync-platform-news"),{method:"POST",headers:{Authorization:"Bearer ".concat(J),"Content-Type":"application/json"}})}}),(0,a.jsx)(Z,{title:"Sync Game Releases",description:"Update from IGDB database",icon:(0,a.jsx)(f,{className:"w-5 h-5"}),onClick:async()=>{await fetch("".concat(O,"/functions/v1/sync-game-releases?source=igdb&days=90"),{headers:{Authorization:"Bearer ".concat(J)}})}}),(0,a.jsx)(Z,{title:"Sync YouTube News",description:"Latest gaming channel updates",icon:(0,a.jsx)(p,{className:"w-5 h-5"}),onClick:async()=>{await fetch("".concat(O,"/functions/v1/sync-youtube-news"),{method:"POST",headers:{Authorization:"Bearer ".concat(J),"Content-Type":"application/json"},body:JSON.stringify({maxResults:10})})}})]})]})]})}function H(e){let{title:t,value:s,icon:l,gradient:r}=e;return(0,a.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsx)("div",{className:"bg-gradient-to-r ".concat(r," p-3 rounded-lg"),children:l})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:t}),(0,a.jsx)("p",{className:"text-3xl font-bold text-white",children:s.toLocaleString()})]})]})}function Z(e){let{title:t,description:s,icon:l,onClick:r}=e;return(0,a.jsx)("button",{onClick:r,className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:bg-slate-800 hover:border-cyan-500/50 transition-all text-left group",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 p-2 rounded-lg group-hover:scale-110 transition-transform",children:l}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-white font-semibold mb-1",children:t}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:s})]})]})})}function W(e){let{supabase:t}=e,[s,r]=(0,l.useState)([]),[n,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)("");(0,l.useEffect)(()=>{m()},[]);let m=async()=>{i(!0);try{let{data:e}=await t.from("blog_posts").select("*").order("created_at",{ascending:!1}).limit(50);r(e||[])}catch(e){console.error("Error loading posts:",e)}finally{i(!1)}},u=s.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.category.toLowerCase().includes(c.toLowerCase()));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Blog Posts"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Manage your blog content"})]}),(0,a.jsx)("button",{onClick:()=>d(!o),className:"px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white font-semibold rounded-lg shadow-lg shadow-cyan-500/20 transition-all",children:"Create New Post"})]}),(0,a.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(N,{className:"w-5 h-5 text-slate-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search posts...",value:c,onChange:e=>x(e.target.value),className:"flex-1 bg-transparent border-none text-white placeholder-slate-400 focus:outline-none"}),(0,a.jsx)(k,{className:"w-5 h-5 text-slate-400"})]})}),(0,a.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["All Posts (",u.length,")"]}),(0,a.jsx)("div",{className:"space-y-3",children:u.map(e=>(0,a.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-colors",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-white font-semibold mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:e.excerpt}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),e.category]}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()}),e.is_featured&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-amber-500/20 text-amber-400 rounded-full",children:"Featured"})]})]})})},e.id))})]})})]})}function $(e){let{supabase:t}=e,[s,r]=(0,l.useState)([]),[n,i]=(0,l.useState)(!0);(0,l.useEffect)(()=>{o()},[]);let o=async()=>{try{let{data:e}=await t.from("admin_users").select("*").order("created_at",{ascending:!1});r(e||[])}catch(e){console.error("Error loading admins:",e)}finally{i(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Admin Users"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Manage administrator accounts and permissions"})]}),(0,a.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-slate-900/50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Last Login"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-slate-700",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-slate-900/30 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold",children:e.full_name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:e.full_name}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:e.email})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-cyan-500/20 text-cyan-400 capitalize",children:e.role.replace("_"," ")})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.is_active?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-green-400",children:[(0,a.jsx)(_,{className:"w-4 h-4"}),"Active"]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-400",children:[(0,a.jsx)(C,{className:"w-4 h-4"}),"Inactive"]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-400",children:e.last_login_at?new Date(e.last_login_at).toLocaleDateString():"Never"})]},e.id))})]})})})]})}function K(e){let{adminUser:t,supabase:s}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Settings"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Manage your account and preferences"})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Account Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:t.full_name,readOnly:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:t.email,readOnly:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Role"}),(0,a.jsx)("input",{type:"text",value:t.role.replace("_"," ").toUpperCase(),readOnly:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white capitalize"})]})]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Security"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Your password is securely managed by Supabase Auth. Contact a super admin to reset your password."})]})]})}},842:function(e,t,s){"use strict";s.d(t,{H:function(){return u},a:function(){return h}});var a,l=s(7437),r=s(2265),n=s(3053),i=s(257);function o(e){try{var t;let s=(t={},void 0===t)?void 0:t.env;if(s&&"string"==typeof s[e])return s[e]}catch(e){}try{let t=null==i?void 0:i.env;if(t&&"string"==typeof t[e])return t[e]}catch(e){}}let d=o("VITE_SUPABASE_URL")||o("NEXT_PUBLIC_SUPABASE_URL")||"",c=o("VITE_SUPABASE_ANON_KEY")||o("NEXT_PUBLIC_SUPABASE_ANON_KEY")||"";if(!d)throw Error("Missing Supabase URL. Set VITE_SUPABASE_URL (Vite) or NEXT_PUBLIC_SUPABASE_URL (Next).");if(!c)throw Error("Missing Supabase anon key. Set VITE_SUPABASE_ANON_KEY (Vite) or NEXT_PUBLIC_SUPABASE_ANON_KEY (Next).");let x=null!==(a=globalThis.__fgn_supabase__)&&void 0!==a?a:(0,n.eI)(d,c,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});globalThis.__fgn_supabase__||(globalThis.__fgn_supabase__=x,console.log("\uD83D\uDD0C Supabase client ready:",d));let m=(0,r.createContext)(null);function u(e){let{children:t}=e,[s,a]=(0,r.useState)(null),[n,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),h=async e=>{try{let{data:t,error:s}=await x.from("admin_users").select("*").eq("id",e).eq("is_active",!0).maybeSingle();if(s)throw s;i(null!=t?t:null)}catch(e){console.error("Error fetching admin user:",e),i(null)}finally{u(!1)}};(0,r.useEffect)(()=>{let e=!0;(async()=>{var t;let{data:{session:s}}=await x.auth.getSession();e&&(d(s),a(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null),(null==s?void 0:s.user)?await h(s.user.id):u(!1))})();let{data:{subscription:t}}=x.auth.onAuthStateChange(async(e,t)=>{var s;d(t),a(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),(null==t?void 0:t.user)?await h(t.user.id):(i(null),u(!1))});return()=>{e=!1,t.unsubscribe()}},[]);let g=async(e,t)=>{try{let{data:s,error:a}=await x.auth.signInWithPassword({email:e,password:t});if(a)throw a;return s.user&&await x.from("admin_users").update({last_login_at:new Date().toISOString()}).eq("id",s.user.id),{error:null}}catch(e){return console.error("Sign in failed:",e),{error:e}}},p=async()=>{await x.auth.signOut(),i(null)},b=!!(null==n?void 0:n.is_active),f=!!((null==n?void 0:n.role)==="super_admin"&&(null==n?void 0:n.is_active));return(0,l.jsx)(m.Provider,{value:{user:s,adminUser:n,session:o,loading:c,signIn:g,signOut:p,isAdmin:b,isSuperAdmin:f},children:t})}function h(){let e=(0,r.useContext)(m);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[115,971,117,744],function(){return e(e.s=6731)}),_N_E=e.O()}]);